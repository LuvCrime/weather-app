{"version":3,"sources":["Components/AppModules.module.css","Components/App.js","Redux/Actions.js","reportWebVitals.js","Redux/Reducer.js","Redux/Store.js","index.js"],"names":["module","exports","autoBind","require","App","props","state","loading","this","getCity","lat","lon","setState","dataUrlWeeks","fetch","method","then","response","json","dataDailyWeather","timeConverter","UNIX_timestamp","a","Date","day","getDay","year","getFullYear","month","getMonth","getDate","weekWeather","daily","slice","map","el","temp","dt","addDataDailyWeather","catch","err","console","error","cityName","dataUrl","data","log","weather","icon","addData","name","main","description","temp_min","temp_max","coord","getDailyWeather","e","currVal","target","value","img","String","prototype","capitalize","charAt","toUpperCase","className","AppModules","loader","type","color","height","width","timeout","wrapper","weatherInfo","search","textField","onChange","onInputOnChange","placeholder","onClick","onSearchClick","faSearchLocation","wrapperWeather","src","cloud","degree","Math","round","extraWeatherInfo","min","floor","tempMin","max","ceil","tempMax","week","dayOftheWeek","item","React","Component","mapDispatchToProps","payload","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","reducer","action","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wHACAA,EAAOC,QAAU,CAAC,IAAM,wBAAwB,QAAU,4BAA4B,YAAc,gCAAgC,iBAAmB,qCAAqC,KAAO,yBAAyB,OAAS,2BAA2B,UAAY,8BAA8B,OAAS,2BAA2B,KAAO,yBAAyB,IAAM,wBAAwB,IAAM,wBAAwB,MAAQ,0BAA0B,eAAiB,mCAAmC,OAAS,2BAA2B,cAAgB,kCAAkC,aAAe,iCAAiC,KAAO,yBAAyB,IAAM,wBAAwB,YAAc,gCAAgC,IAAM,wBAAwB,WAAW,6BAA6B,gBAAgB,oC,yLCMl0BC,EAAWC,EAAQ,IAEnBC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,SAAS,GAEXL,EAAS,gBALQ,E,gEASjBM,KAAKC,QAAQ,Y,sCAGCC,EAAKC,GAAM,IAAD,OACxBH,KAAKI,SAAS,CACZL,SAAS,IAEX,IAAMM,EAAY,8DAA0DH,EAA1D,gBAAqEC,EAArE,yDAClBG,MAAMD,EAAc,CAClBE,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,SAASC,EAAcC,GACrB,IAAIC,EAAI,IAAIC,KAAsB,IAAjBF,GAyBbG,EATO,CACT,SACA,SACA,UACA,YACA,WACA,SACA,YAEaF,EAAEG,UACbC,EAAOJ,EAAEK,cACTC,EA1BS,CACX,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAciBN,EAAEO,YAGrB,OAFWP,EAAEQ,UACK,IAAMF,EAAQ,IAAMF,EAAO,IAAMF,EAIrD,IAAIO,EAAcZ,EAAiBa,MAAMC,MAAM,GAAGC,KAAI,SAACC,GACrD,MAAO,CAAEC,KAAMD,EAAGC,KAAKZ,IAAKA,IAAKJ,EAAce,EAAGE,QAGpD,EAAKhC,MAAMiC,oBAAoBP,GAE/B,EAAKnB,SAAS,CACZL,SAAS,OAGZgC,OAAM,SAACC,GACNC,QAAQC,MAAMF,GACd,EAAK5B,SAAS,CACZL,SAAS,S,8BAKToC,GAAW,IAAD,OAChBnC,KAAKI,SAAS,CACZL,SAAS,IAEX,IAAMqC,EAAO,2DAAuDD,EAAvD,wDACb7B,MAAM8B,EAAS,CACb7B,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAAC6B,GACLJ,QAAQK,IAAID,EAAKE,QAAQ,GAAGC,MAC5B,EAAK3C,MAAM4C,QACTJ,EAAKK,KACLL,EAAKM,KAAKf,KACVS,EAAKE,QAAQ,GAAGK,YAChBP,EAAKM,KAAKE,SACVR,EAAKM,KAAKG,SACVT,EAAKU,MAAM7C,IACXmC,EAAKU,MAAM5C,IACXkC,EAAKE,QAAQ,GAAGC,MAElB,EAAKQ,gBAAgBX,EAAKU,MAAM7C,IAAKmC,EAAKU,MAAM5C,KAChD,EAAKC,SAAS,CACZL,SAAS,OAGZgC,OAAM,SAACC,GACNC,QAAQC,MAAMF,GACd,EAAK5B,SAAS,CACZL,SAAS,S,sCAKDkD,GACd,IAAIC,EAAUD,EAAEE,OAAOC,MACvBpD,KAAKI,SAAS,CACZsC,KAAMQ,M,sCAKRlD,KAAKC,QAAQD,KAAKF,MAAM4C,MACxB1C,KAAKI,SAAS,CACZsC,KAAM,O,+BAKR,IAAMW,EAAG,2CAAuCrD,KAAKH,MAAM2C,KAAlD,WAKT,OAHAc,OAAOC,UAAUC,WAAa,WAC5B,OAAOxD,KAAKyD,OAAO,GAAGC,cAAgB1D,KAAKyB,MAAM,IAE/CzB,KAAKF,MAAMC,UAAYC,KAAKH,MAAM6C,KAElC,qBAAKiB,UAAWC,IAAWC,OAA3B,SACE,cAAC,IAAD,CACEC,KAAK,OACLC,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,QAMb,qBAAKP,UAAWC,IAAWhE,IAA3B,SACE,qBAAK+D,UAAWC,IAAWO,QAA3B,SACE,sBAAKR,UAAWC,IAAWQ,YAA3B,UACE,sBAAKT,UAAWC,IAAWS,OAA3B,UACE,uBACEV,UAAWC,IAAWU,UACtBlB,MAAOpD,KAAKF,MAAM4C,KAClB6B,SAAUvE,KAAKwE,gBACfC,YAAY,iBAEd,qBAAKd,UAAWC,IAAWpB,KAAMkC,QAAS1E,KAAK2E,cAA/C,SACE,cAAC,IAAD,CAAiBnC,KAAMoC,WAG3B,sBAAKjB,UAAWC,IAAWiB,eAA3B,UACE,qBAAKlB,UAAWC,IAAWlB,KAA3B,SAAkC1C,KAAKH,MAAM6C,OAC7C,qBAAKiB,UAAWC,IAAWP,IAA3B,SACE,qBAAKyB,IAAKzB,MAEZ,qBAAKM,UAAWC,IAAWmB,MAA3B,SACG/E,KAAKH,MAAM0C,QAAQiB,eAGtB,qBAAKG,UAAWC,IAAWoB,OAA3B,SACGC,KAAKC,MAAMlF,KAAKH,MAAM+B,QAEzB,sBAAK+B,UAAWC,IAAWuB,iBAA3B,UACE,sBAAKxB,UAAWC,IAAWwB,IAA3B,kBACQH,KAAKI,MAAMrF,KAAKH,MAAMyF,YAE9B,qCACA,sBAAK3B,UAAWC,IAAW2B,IAA3B,kBACQN,KAAKO,KAAKxF,KAAKH,MAAM4F,kBAIhCzF,KAAKH,MAAM6F,MACV,qBAAK/B,UAAWC,IAAW+B,aAA3B,SACG3F,KAAKH,MAAM6F,KAAKhE,KAAI,SAACkE,GACpB,OACE,sBAAoBjC,UAAWC,IAAWrC,YAA1C,UACE,qBAAKoC,UAAWC,IAAW5C,IAA3B,SAAiC4E,EAAK5E,MAAW,IACjD,qBAAK2C,UAAWC,IAAWhC,KAA3B,SACGqD,KAAKC,MAAMU,EAAKhE,UAHXgE,EAAK5E,qB,GA3LnB6E,IAAMC,WAiNlBC,EAAqB,CACzBtD,QC3NqB,SACrBC,EACAd,EACAW,EACA+C,EACAG,EACAvF,EACAC,EACAqC,GAEA,MAAO,CACLsB,KAAM,WACNkC,QAAS,CACPtD,OACAd,OACAW,UACA+C,UACAG,UACAvF,MACAC,MACAqC,UDwMJV,oBCnMiC,SAAC4D,GAClC,MAAO,CACL5B,KAAM,yBACNkC,QAAS,CACPN,WDkMSO,eATS,SAACnG,GACvB,OAAOA,IAQ+BiG,EAAzBE,CAA6CrG,GEnN7CsG,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5F,MAAK,YAAkD,IAA/C6F,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,eCPRO,EAAe,GAyBNC,EAvBC,WAAmC,IAAlC7G,EAAiC,uDAAzB4G,EAAcE,EAAW,uCAChD,OAAQA,EAAO9C,MACb,IAAK,WACH,MAAO,CACLpB,KAAMkE,EAAOZ,QAAQtD,KACrBd,KAAMgF,EAAOZ,QAAQpE,KACrBW,QAASqE,EAAOZ,QAAQzD,QACxB+C,QAASsB,EAAOZ,QAAQV,QACxBG,QAASmB,EAAOZ,QAAQP,QACxBvF,IAAK0G,EAAOZ,QAAQ9F,IACpBC,IAAKyG,EAAOZ,QAAQ7F,IACpBqC,KAAMoE,EAAOZ,QAAQxD,MAEzB,IAAK,yBACH,OAAO,2BACF1C,GADL,IAEE4F,KAAMkB,EAAOZ,QAAQN,OAEzB,QACE,OAAO5F,IClBF+G,EAAQC,YACjBH,EACAI,OAAOC,8BAAgCD,OAAOC,gCCGhDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACA,cAAC,EAAD,QAGFO,SAASC,eAAe,SAM1BnB,M","file":"static/js/main.29be9a60.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"AppModules_App__3M2lg\",\"wrapper\":\"AppModules_wrapper__1LyVa\",\"weatherInfo\":\"AppModules_weatherInfo__2izHt\",\"extraWeatherInfo\":\"AppModules_extraWeatherInfo__2hdqI\",\"name\":\"AppModules_name__Qoyi6\",\"degree\":\"AppModules_degree__3Al0y\",\"textField\":\"AppModules_textField__1bVl2\",\"search\":\"AppModules_search__2L6Fe\",\"icon\":\"AppModules_icon__3V4Fo\",\"min\":\"AppModules_min__1uPz9\",\"max\":\"AppModules_max__1sSiT\",\"cloud\":\"AppModules_cloud__h4OPK\",\"wrapperWeather\":\"AppModules_wrapperWeather__Zw0jv\",\"loader\":\"AppModules_loader__1ooBM\",\"secondLoading\":\"AppModules_secondLoading__VKdd5\",\"dayOftheWeek\":\"AppModules_dayOftheWeek__3td_-\",\"temp\":\"AppModules_temp__2zCut\",\"day\":\"AppModules_day__1mca1\",\"weekWeather\":\"AppModules_weekWeather__3hxg_\",\"img\":\"AppModules_img__3yxYz\",\"App-logo\":\"AppModules_App-logo__3VHtv\",\"App-logo-spin\":\"AppModules_App-logo-spin__2R1x4\"};","import AppModules from \"./AppModules.module.css\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearchLocation } from \"@fortawesome/free-solid-svg-icons\";\nimport { connect } from \"react-redux\";\nimport { addData, addDataDailyWeather } from \"../Redux/Actions\";\nimport Loader from \"react-loader-spinner\";\nconst autoBind = require(\"auto-bind\");\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.getCity(\"moscow\");\n  }\n\n  getDailyWeather(lat, lon) {\n    this.setState({\n      loading: true,\n    });\n    const dataUrlWeeks = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&&appid=eb93e97d16b687445b44bc92192ea7bb&units=metric`;\n    fetch(dataUrlWeeks, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((dataDailyWeather) => {\n        function timeConverter(UNIX_timestamp) {\n          var a = new Date(UNIX_timestamp * 1000);\n          var months = [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n          ];\n\n          var days = [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n          ];\n          var day = days[a.getDay()];\n          var year = a.getFullYear();\n          var month = months[a.getMonth()];\n          var date = a.getDate();\n          var time = date + \" \" + month + \" \" + year + \" \" + day;\n          return time;\n        }\n\n        var weekWeather = dataDailyWeather.daily.slice(1).map((el) => {\n          return { temp: el.temp.day, day: timeConverter(el.dt) };\n        });\n\n        this.props.addDataDailyWeather(weekWeather);\n\n        this.setState({\n          loading: false,\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  getCity(cityName) {\n    this.setState({\n      loading: true,\n    });\n    const dataUrl = `http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=eb93e97d16b687445b44bc92192ea7bb&units=metric`;\n    fetch(dataUrl, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data.weather[0].icon);\n        this.props.addData(\n          data.name,\n          data.main.temp,\n          data.weather[0].description,\n          data.main.temp_min,\n          data.main.temp_max,\n          data.coord.lat,\n          data.coord.lon,\n          data.weather[0].icon\n        );\n        this.getDailyWeather(data.coord.lat, data.coord.lon);\n        this.setState({\n          loading: false,\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  onInputOnChange(e) {\n    var currVal = e.target.value;\n    this.setState({\n      name: currVal,\n    });\n  }\n\n  onSearchClick() {\n    this.getCity(this.state.name);\n    this.setState({\n      name: \"\",\n    });\n  }\n\n  render() {\n    const img = `http://openweathermap.org/img/wn/${this.props.icon}@2x.png`;\n\n    String.prototype.capitalize = function () {\n      return this.charAt(0).toUpperCase() + this.slice(1);\n    };\n    if (this.state.loading && !this.props.name) {\n      return (\n        <div className={AppModules.loader}>\n          <Loader\n            type=\"Oval\"\n            color=\"#515ada\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        </div>\n      );\n    } else {\n      return (\n        <div className={AppModules.App}>\n          <div className={AppModules.wrapper}>\n            <div className={AppModules.weatherInfo}>\n              <div className={AppModules.search}>\n                <input\n                  className={AppModules.textField}\n                  value={this.state.name}\n                  onChange={this.onInputOnChange}\n                  placeholder=\"Enter a city\"\n                ></input>\n                <div className={AppModules.icon} onClick={this.onSearchClick}>\n                  <FontAwesomeIcon icon={faSearchLocation} />\n                </div>\n              </div>\n              <div className={AppModules.wrapperWeather}>\n                <div className={AppModules.name}>{this.props.name}</div>\n                <div className={AppModules.img}>\n                  <img src={img} />\n                </div>\n                <div className={AppModules.cloud}>\n                  {this.props.weather.capitalize()}\n                </div>\n\n                <div className={AppModules.degree}>\n                  {Math.round(this.props.temp)}\n                </div>\n                <div className={AppModules.extraWeatherInfo}>\n                  <div className={AppModules.min}>\n                    Min: {Math.floor(this.props.tempMin)}\n                  </div>\n                  <span>,</span>\n                  <div className={AppModules.max}>\n                    Max: {Math.ceil(this.props.tempMax)}\n                  </div>\n                </div>\n              </div>\n              {this.props.week && (\n                <div className={AppModules.dayOftheWeek}>\n                  {this.props.week.map((item) => {\n                    return (\n                      <div key={item.day} className={AppModules.weekWeather}>\n                        <div className={AppModules.day}>{item.day}</div>{\" \"}\n                        <div className={AppModules.temp}>\n                          {Math.round(item.temp)}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return state;\n};\n\nconst mapDispatchToProps = {\n  addData: addData,\n  addDataDailyWeather: addDataDailyWeather,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export const addData = (\r\n  name,\r\n  temp,\r\n  weather,\r\n  tempMin,\r\n  tempMax,\r\n  lat,\r\n  lon,\r\n  icon\r\n) => {\r\n  return {\r\n    type: \"ADD_DATA\",\r\n    payload: {\r\n      name,\r\n      temp,\r\n      weather,\r\n      tempMin,\r\n      tempMax,\r\n      lat,\r\n      lon,\r\n      icon,\r\n    },\r\n  };\r\n};\r\n\r\nexport const addDataDailyWeather = (week) => {\r\n  return {\r\n    type: \"ADD_DATA_DAILY_WEATHER\",\r\n    payload: {\r\n      week,\r\n    },\r\n  };\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_DATA\":\r\n      return {\r\n        name: action.payload.name,\r\n        temp: action.payload.temp,\r\n        weather: action.payload.weather,\r\n        tempMin: action.payload.tempMin,\r\n        tempMax: action.payload.tempMax,\r\n        lat: action.payload.lat,\r\n        lon: action.payload.lon,\r\n        icon: action.payload.icon,\r\n      };\r\n    case \"ADD_DATA_DAILY_WEATHER\":\r\n      return {\r\n        ...state,\r\n        week: action.payload.week,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./Reducer\";\r\n\r\nexport let store = createStore(\r\n  reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./Redux/Store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}