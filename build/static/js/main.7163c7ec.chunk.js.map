{"version":3,"sources":["Components/AppModules.module.css","Components/App.js","Redux/Actions.js","reportWebVitals.js","Redux/Reducer.js","Redux/Store.js","index.js"],"names":["module","exports","autoBind","require","App","props","state","loading","suggest","this","getCity","lat","lon","setState","dataUrlWeeks","fetch","method","then","response","json","dataDailyWeather","timeConverter","UNIX_timestamp","a","Date","day","getDay","year","getFullYear","month","getMonth","getDate","weekWeather","daily","slice","map","el","temp","dt","addDataDailyWeather","catch","err","console","error","cityName","dataUrl","data","addData","name","main","weather","description","temp_min","temp_max","coord","icon","getDailyWeather","e","currVal","target","value","mapped","window","filter","city","toLowerCase","startsWith","className","AppModules","onClick","event","onSuggestClick","id","currCity","img","String","prototype","capitalize","charAt","toUpperCase","loader","type","color","height","width","timeout","wrapper","weatherInfo","suggestList","search","textField","onChange","onInputOnChange","placeholder","onSearchClick","faSearchLocation","wrapperWeather","src","cloud","degree","Math","round","extraWeatherInfo","min","floor","tempMin","max","ceil","tempMax","week","dayOftheWeek","item","React","Component","mapDispatchToProps","payload","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","reducer","action","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7163c7ec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"AppModules_App__c3K2B\",\"wrapper\":\"AppModules_wrapper__3jl_N\",\"weatherInfo\":\"AppModules_weatherInfo__17rbF\",\"extraWeatherInfo\":\"AppModules_extraWeatherInfo__3_5ok\",\"name\":\"AppModules_name__10bHH\",\"degree\":\"AppModules_degree__1ADN9\",\"textField\":\"AppModules_textField__3d_fq\",\"search\":\"AppModules_search__35hVj\",\"icon\":\"AppModules_icon__3WhX6\",\"min\":\"AppModules_min__1v04K\",\"max\":\"AppModules_max__2Uaon\",\"cloud\":\"AppModules_cloud__Lh-rX\",\"wrapperWeather\":\"AppModules_wrapperWeather__3RZKA\",\"loader\":\"AppModules_loader__1a2wl\",\"secondLoading\":\"AppModules_secondLoading__1h-oC\",\"dayOftheWeek\":\"AppModules_dayOftheWeek__G5b2n\",\"temp\":\"AppModules_temp__3-__Y\",\"day\":\"AppModules_day__3d57U\",\"suggestList\":\"AppModules_suggestList__1ULXd\",\"suggest\":\"AppModules_suggest__BfyW_\",\"city\":\"AppModules_city__3tPfj\",\"weekWeather\":\"AppModules_weekWeather__3KMG9\",\"img\":\"AppModules_img__1qzej\",\"App-logo\":\"AppModules_App-logo__3pzAL\",\"App-logo-spin\":\"AppModules_App-logo-spin__15Bxz\"};","import AppModules from \"./AppModules.module.css\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearchLocation } from \"@fortawesome/free-solid-svg-icons\";\nimport { connect } from \"react-redux\";\nimport { addData, addDataDailyWeather } from \"../Redux/Actions\";\nimport Loader from \"react-loader-spinner\";\nconst autoBind = require(\"auto-bind\");\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      suggest: \"\",\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.getCity(\"moscow\");\n  }\n\n  getDailyWeather(lat, lon) {\n    this.setState({\n      loading: true,\n    });\n    const dataUrlWeeks = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&&appid=eb93e97d16b687445b44bc92192ea7bb&units=metric`;\n    fetch(dataUrlWeeks, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((dataDailyWeather) => {\n        function timeConverter(UNIX_timestamp) {\n          var a = new Date(UNIX_timestamp * 1000);\n          var months = [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n          ];\n\n          var days = [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n          ];\n          var day = days[a.getDay()];\n          var year = a.getFullYear();\n          var month = months[a.getMonth()];\n          var date = a.getDate();\n          var time = date + \" \" + month + \" \" + year + \" \" + day;\n          return time;\n        }\n\n        var weekWeather = dataDailyWeather.daily.slice(1).map((el) => {\n          return { temp: el.temp.day, day: timeConverter(el.dt) };\n        });\n\n        this.props.addDataDailyWeather(weekWeather);\n\n        this.setState({\n          loading: false,\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  getCity(cityName) {\n    this.setState({\n      loading: true,\n    });\n    const dataUrl = `http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=eb93e97d16b687445b44bc92192ea7bb&units=metric`;\n    fetch(dataUrl, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.props.addData(\n          data.name,\n          data.main.temp,\n          data.weather[0].description,\n          data.main.temp_min,\n          data.main.temp_max,\n          data.coord.lat,\n          data.coord.lon,\n          data.weather[0].icon\n        );\n        this.getDailyWeather(data.coord.lat, data.coord.lon);\n        this.setState({\n          loading: false,\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  onInputOnChange(e) {\n    var currVal = e.target.value;\n    this.setState({\n      name: currVal,\n    });\n    var filtedCities = window.suggest.filter((city) => {\n      return city.toLowerCase().startsWith(currVal.toLowerCase());\n    });\n\n    var mapped = filtedCities.map((city) => {\n      return (\n        <div\n          className={AppModules.city}\n          onClick={(event)=>this.onSuggestClick(event)}\n          id={city}>\n          {city}\n        </div>\n      );\n    });\n    this.setState({\n      suggest: mapped.slice(0, 9),\n    });\n  }\n\n  onSuggestClick(event) {\n    var currCity = event.target.id;\n    this.getCity(currCity);\n    this.setState({\n      suggest: '',\n      name: '',\n    });\n  }\n\n  onSearchClick() {\n    this.getCity(this.state.name);\n    this.setState({\n      name: \"\",\n    });\n  }\n\n  render() {\n    const img = `http://openweathermap.org/img/wn/${this.props.icon}@2x.png`;\n\n    String.prototype.capitalize = function () {\n      return this.charAt(0).toUpperCase() + this.slice(1);\n    };\n\n    if (this.state.loading && !this.props.name) {\n      return (\n        <div className={AppModules.loader}>\n          <Loader\n            type=\"Oval\"\n            color=\"#515ada\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        </div>\n      );\n    } else {\n      return (\n        <div className={AppModules.App}>\n          <div className={AppModules.wrapper}>\n            <div className={AppModules.weatherInfo}>\n              <div className={AppModules.suggestList}>\n                <div className={AppModules.search}>\n                  <input\n                    className={AppModules.textField}\n                    value={this.state.name}\n                    onChange={this.onInputOnChange}\n                    placeholder=\"Enter a city\"\n                  ></input>\n                  <div className={AppModules.icon} onClick={this.onSearchClick}>\n                    <FontAwesomeIcon icon={faSearchLocation} />\n                  </div>\n                </div>\n                {this.state.suggest && (\n                  <div className={AppModules.suggest}>{this.state.suggest}</div>\n                )}\n              </div>\n              <div className={AppModules.wrapperWeather}>\n                <div className={AppModules.name}>{this.props.name}</div>\n                <div className={AppModules.img}>\n                  <img src={img} />\n                </div>\n                <div className={AppModules.cloud}>\n                  {this.props.weather.capitalize()}\n                </div>\n\n                <div className={AppModules.degree}>\n                  {Math.round(this.props.temp)}\n                </div>\n                <div className={AppModules.extraWeatherInfo}>\n                  <div className={AppModules.min}>\n                    Min: {Math.floor(this.props.tempMin)}\n                  </div>\n                  <span>,</span>\n                  <div className={AppModules.max}>\n                    Max: {Math.ceil(this.props.tempMax)}\n                  </div>\n                </div>\n              </div>\n              {this.props.week && (\n                <div className={AppModules.dayOftheWeek}>\n                  {this.props.week.map((item) => {\n                    return (\n                      <div key={item.day} className={AppModules.weekWeather}>\n                        <div className={AppModules.day}>{item.day}</div>{\" \"}\n                        <div className={AppModules.temp}>\n                          {Math.round(item.temp)}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return state;\n};\n\nconst mapDispatchToProps = {\n  addData: addData,\n  addDataDailyWeather: addDataDailyWeather,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export const addData = (\n  name,\n  temp,\n  weather,\n  tempMin,\n  tempMax,\n  lat,\n  lon,\n  icon\n) => {\n  return {\n    type: \"ADD_DATA\",\n    payload: {\n      name,\n      temp,\n      weather,\n      tempMin,\n      tempMax,\n      lat,\n      lon,\n      icon,\n    },\n  };\n};\n\nexport const addDataDailyWeather = (week) => {\n  return {\n    type: \"ADD_DATA_DAILY_WEATHER\",\n    payload: {\n      week,\n    },\n  };\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_DATA\":\n      return {\n        name: action.payload.name,\n        temp: action.payload.temp,\n        weather: action.payload.weather,\n        tempMin: action.payload.tempMin,\n        tempMax: action.payload.tempMax,\n        lat: action.payload.lat,\n        lon: action.payload.lon,\n        icon: action.payload.icon,\n      };\n    case \"ADD_DATA_DAILY_WEATHER\":\n      return {\n        ...state,\n        week: action.payload.week,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { createStore } from \"redux\";\nimport reducer from \"./Reducer\";\n\nexport let store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./Redux/Store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}